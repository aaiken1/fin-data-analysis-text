
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Lab 03 &#8212; Data Analysis in Finance</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Our Exams" href="exam_intro.html" />
    <link rel="prev" title="Lab 02" href="lab02.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/cat.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Data Analysis in Finance</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Welcome
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Getting Started
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="1_finpyth.html">
   1. Why Python and finance?
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="2_1_intro.html">
   2. Python set-up
   <a id="python_set-up">
   </a>
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="2_2_install.html">
     2.2. Installation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="2_3_jupyter.html">
     2.3. Jupyter notebooks
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="2_4_googlecolab.html">
     2.4. Google Colab
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="2_5_vscode.html">
     2.5. VS Code
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="2_6_markdown.html">
     2.6. Markdown
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="2_7_packages.html">
     2.7. Packages
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="2_8_style.html">
     2.8. Code style, PEP8, and linting
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  The Basics
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="3_1_intro.html">
   3. CompSci 101: Types, control, and numpy arrays
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="3_2_comp101.html">
     3.1. The Basics
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="3_3_numpy.html">
     3.2. Numpy and arrays
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="4_intro.html">
   4. Pandas and data
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="4_0_dataframes.html">
     4.1. Data importing
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="4_1_pandas.html">
     4.2. pandas
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="4_2_cleaning_data.html">
     4.3. Cleaning our data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="4_3_eda.html">
     4.4. Exploratory data analysis (EDA)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="4_4_merge_shape.html">
     4.5. Merging and reshaping data
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="5_intro.html">
   5. Data visualization
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="5_0_matplotlib.html">
     5.1. matplotlib
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="5_1_plotly.html">
     5.2. plotly
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="5_2_seaborn.html">
     5.3. seaborn
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="6_financial_ts.html">
   6. Financial time series
   <a id="financial-time-series">
   </a>
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Applications
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="7_nasdaq_api.html">
   7. Using NASDAQ BTC data
   <a id="btc-sim">
   </a>
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="8_port_math.html">
   8. Essential portfolio math
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="9_portfolio_opt.html">
   9. Portfolio optimization
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="10_factor_models.html">
   10. Factor models
   <a id="factor_models">
   </a>
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="11_regression_topics.html">
   11. Regression topics
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="12_risk_mang.html">
   12. Risk management
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="13_monte_carlo.html">
   13. Monte Carlo and portfolios
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="14_options.html">
   14. Option basics
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="15_logit_credit.html">
   15. Logit models
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Labs
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="lab_intro.html">
   Our labs
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="lab01.html">
   Lab 01
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="lab02.html">
   Lab 02
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Lab 03
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Exams
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="exam_intro.html">
   Our Exams
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/executablebooks/jupyter-book/master?urlpath=tree/docs/chapters/lab03.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>
<a href="https://github.com/executablebooks/jupyter-book"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="bottom"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/chapters/lab03.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#king-county-housing-this-time-with-graphs">
   King County Housing, This Time With Graphs
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-1">
   Part 1
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-2">
   Part 2
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-3">
   Part 3
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-4">
   Part 4
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-5">
   Part 5
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-6">
   Part 6
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-7">
   Part 7
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-8">
   Part 8
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-9">
   Part 9
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-10">
   Part 10
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Lab 03</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#king-county-housing-this-time-with-graphs">
   King County Housing, This Time With Graphs
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-1">
   Part 1
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-2">
   Part 2
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-3">
   Part 3
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-4">
   Part 4
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-5">
   Part 5
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-6">
   Part 6
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-7">
   Part 7
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-8">
   Part 8
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-9">
   Part 9
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-10">
   Part 10
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="lab-03">
<h1>Lab 03<a class="headerlink" href="#lab-03" title="Permalink to this headline">#</a></h1>
<section id="king-county-housing-this-time-with-graphs">
<h2>King County Housing, This Time With Graphs<a class="headerlink" href="#king-county-housing-this-time-with-graphs" title="Permalink to this headline">#</a></h2>
<p>In this lab, we are going to import data into Python using <code class="docutils literal notranslate"><span class="pre">pandas</span></code>, clean it up, and make some <strong>graphs</strong>. We’ll again use the housing data from <a class="reference external" href="https://geodacenter.github.io/data-and-lab/KingCounty-HouseSales2015/">King County in Washington State</a>.</p>
<p>Use our online notes to complete our labs. I have my own commentary and links that will help. You can work through the parts below in order.</p>
<p>If you are getting errors and are not sure why, my first suggestion is always to <strong>Restart</strong> the Python kernel, to <strong>Clear All Output</strong>, and run each code cell <strong>one-by-one</strong> from the top.</p>
<aside class="margin sidebar">
<p class="sidebar-title"></p>
<p>My instructions will refer to VS Code, but you can use VS Code, Anaconda Jupyter notebook, or Google Colab. The key is have a Jupyter notebook when you’re done that can run from start to finish.</p>
</aside>
<p>Let each code cell represent one idea, or output. Take advantage of <strong>Markdown</strong> in your write-up. Use headers and formatting. Here’s a <a class="reference external" href="https://www.markdownguide.org/cheat-sheet/">Markdown cheat sheet</a> that I keep handy. Once you figure out some of the basics, you might not want to go back to Word or Google Docs.</p>
<p>And don’t forget about our <a class="reference external" href="http://datacamp-community-prod.s3.amazonaws.com/f04456d7-8e61-482f-9cc9-da6f7f25fc9b">cheat sheets</a>.</p>
<p>Finally, use our online notes as a resource. I will also be incorporating ideas from the first two DataCamp assignments.</p>
</section>
<section id="part-1">
<h2>Part 1<a class="headerlink" href="#part-1" title="Permalink to this headline">#</a></h2>
<p>Open up VS Code or Google Colab. Have you set up your class folder yet? I’ve posted a video that will help you figure that part out. Open up that folder under File. If you’re in VS Code, you should see it in the <strong>EXPLORER</strong> window pane on the left.</p>
<p>Type <strong>Cmd-Shift-P</strong> (Ctrl-Shift-P in Windows) to open up the command palette. Make sure there’s a little <code class="docutils literal notranslate"><span class="pre">&gt;</span></code> in the search bar that pops up (there should be). Search for <code class="docutils literal notranslate"><span class="pre">Jupyter:</span> <span class="pre">Create</span> <span class="pre">New</span> <span class="pre">Jupyter</span> <span class="pre">Notebook</span></code>. This will open up a blank <code class="docutils literal notranslate"><span class="pre">.ipynb</span></code> file. Save this in a new folder in your course folder called <code class="docutils literal notranslate"><span class="pre">lab03</span></code>. Call this file <code class="docutils literal notranslate"><span class="pre">lab03-lastname-firstname</span></code>, where you fill in your name, of course!</p>
<p>If you’re using Anaconda Jupyter notebooks or Google Colab, you’ll do something very similar. Create a new <code class="docutils literal notranslate"><span class="pre">.ipynb</span></code> file. In Google Colab, this file will be saved to your Google Drive. You can then download it when you’re done. See the online notes for more on using Google Colab.</p>
</section>
<section id="part-2">
<h2>Part 2<a class="headerlink" href="#part-2" title="Permalink to this headline">#</a></h2>
<p>You’ll see a blank code cell, or <strong>cell</strong>, at the top. By default, this is set to Python. See the lower right-hand corner of the cell? Click there and search and select <strong>Markdown</strong>.</p>
<p>Create the following in that top Markdown cell.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Lab03</span>
<span class="n">Firstname</span> <span class="n">Lastname</span>
<span class="n">Date</span>
</pre></div>
</div>
<p>As you answer the questions below, use new Markdown cells and headers to separate your answers, as appropriate.</p>
<p>Create your first code cell where you <code class="docutils literal notranslate"><span class="pre">import</span></code> both <code class="docutils literal notranslate"><span class="pre">numpy</span></code> and <code class="docutils literal notranslate"><span class="pre">pandas</span></code> as <code class="docutils literal notranslate"><span class="pre">np</span></code> and <code class="docutils literal notranslate"><span class="pre">pd</span></code>, respectively.</p>
<p>Also include <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">datetime</span> <span class="pre">as</span> <span class="pre">dt</span></code>. The <code class="docutils literal notranslate"><span class="pre">datetime</span></code> library is discussed in the first part of the second DataCamp assignment.</p>
<p>Include <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">matplotlib.pyplot</span> <span class="pre">as</span> <span class="pre">plt</span></code> and <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">matplotlib</span> <span class="pre">import</span> <span class="pre">style</span></code>. We are going to automatically style our graphs too.</p>
<p>Include <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">matplotlib.ticker</span> <span class="pre">import</span> <span class="pre">StrMethodFormatter</span></code>. This will let us format the text on our axes below.</p>
<p>Add a <strong>comment</strong> to that cell calling it <strong>Set-Up</strong>. You can add comments to each code cell to remind yourself what you’re doing. Comments are different from the Markdown that you’re using to write your narrative - they go in the Python cells and use <code class="docutils literal notranslate"><span class="pre">#</span></code>.</p>
</section>
<section id="part-3">
<h2>Part 3<a class="headerlink" href="#part-3" title="Permalink to this headline">#</a></h2>
<p>I’ll remind you about this data.</p>
<p>The DataFrame we will be working with will come from <code class="docutils literal notranslate"><span class="pre">kc_house_data.csv</span></code>, which is up in my data folder on <a class="reference external" href="https://github.com/aaiken1/fin-data-analysis-python/tree/main/data">GitHub</a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">kc_house_data.csv</span></code> is a CSV file on home sales and characteristics from May 2014 - May 2015 in King County, Washington State. I pulled the file from Kaggle, a data science competition page and a good resource for interesting data sets. See the link above for more about the data and what’s in it.</p>
<p>The <strong>url</strong> for the data is <a class="reference external" href="https://raw.githubusercontent.com/aaiken1/fin-data-analysis-python/main/data/kc_house_data.csv">https://raw.githubusercontent.com/aaiken1/fin-data-analysis-python/main/data/kc_house_data.csv</a>. Download it directly using <code class="docutils literal notranslate"><span class="pre">pandas</span></code> and put it into a DataFrame called <code class="docutils literal notranslate"><span class="pre">kc</span></code>. There is a variable called <code class="docutils literal notranslate"><span class="pre">id</span></code> in the first column. Make that the index value for the DataFrame. Clean up the <code class="docutils literal notranslate"><span class="pre">date</span></code> variable like last time.</p>
<p>As mentioned in the last lab, we want to think about our question first and then match that to our data. What are we interested in? Can our data answer that question? In practice, just knowing this can be really tough. For example, some questions that this data <strong>might</strong> be able to help us answer:</p>
<ul class="simple">
<li><p>What time period does this data cover?</p></li>
<li><p>How large our houses in King County? What are the typical number of bedrooms or bathrooms?</p></li>
<li><p>What does the distribution of prices look like?</p></li>
<li><p>What types of amenities are present?</p></li>
<li><p>What housing characteristics do people value?</p></li>
<li><p>Can we predict home values?</p></li>
</ul>
<p>Answering these questions would help you figure out what to price a particular home at, for example. Zillow’s <a class="reference external" href="https://www.zillow.com/z/zestimate/">Zestimate pricing model</a> does that. They messed up, though, when trying to use their Zestimate to <a class="reference external" href="https://www.npr.org/2021/11/08/1053689886/ibuyers-zillow-and-the-lemons-problem">actually buy and sell houses</a>. The problem wasn’t their model, per se. They ran into what’s called the <a class="reference external" href="https://en.wikipedia.org/wiki/The_Market_for_Lemons">lemon problem</a>.</p>
<p>Anyone trading, or just buying and selling when the quality of the good is uncertain, has to be aware of this problem! Always ask: Why is this other person trying to sell me this item (e.g. house, car, stock) at this particular price?</p>
<p>Friends of mine have created a company that scores homes and neighborhoods based on their curb-appeal <a class="reference external" href="https://www.wsj.com/articles/selling-your-home-its-whats-on-the-outside-that-counts-11579792560">using machine learning techniques</a> based on photos.</p>
</section>
<section id="part-4">
<h2>Part 4<a class="headerlink" href="#part-4" title="Permalink to this headline">#</a></h2>
<p>Let’s start with some <strong>sorting</strong>, <strong>filtering</strong>, and <strong>variable creation</strong>.</p>
<p>Create a new <code class="docutils literal notranslate"><span class="pre">pandas</span></code> DataFrame from our main data file that contains: date (date sold), price, square footage of living space, square footage of the lot, year built, number of bedrooms, waterfront, and <strong>price per square foot</strong>. You’ll need to create one of these variables! Name this DataFrame <code class="docutils literal notranslate"><span class="pre">kc_subset</span></code>.</p>
<p>You can create the year by selecting the <code class="docutils literal notranslate"><span class="pre">date</span></code> column and using the <code class="docutils literal notranslate"><span class="pre">dt.year</span></code> method on it. You can find an example <a class="reference external" href="https://datascienceparichay.com/article/pandas-extract-year-from-datetime-column/">here</a>. We did this in the last lab too.</p>
<p>How can you create a <code class="docutils literal notranslate"><span class="pre">prc_sqr_ft</span></code> variable?</p>
<p>Remember, this new DataFrame will live in memory, but it isn’t stored on your computer until you actually save it using something like <code class="docutils literal notranslate"><span class="pre">to.CSV</span></code>.</p>
<p>Do the following:</p>
<ul class="simple">
<li><p>Show the ten least expensive homes sold in this data set on a price per square foot basis.</p></li>
<li><p>Print the min price.</p></li>
<li><p>Print the max price.</p></li>
</ul>
</section>
<section id="part-5">
<h2>Part 5<a class="headerlink" href="#part-5" title="Permalink to this headline">#</a></h2>
<p>What does the distribution of housing prices look like? Let’s create a <strong>histogram</strong> of prices using <code class="docutils literal notranslate"><span class="pre">pandas</span></code> <code class="docutils literal notranslate"><span class="pre">plot()</span></code> method. Note that this isn’t <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> yet, at least not directly. There are many ways to do the same types of things in Python.</p>
<p>It’s good practice to always think about your data. For a histogram, this can mean figuring out the number of bins to use. When you create your histogram include this as an argument: <code class="docutils literal notranslate"><span class="pre">range</span> <span class="pre">=</span> <span class="pre">(0,</span> <span class="pre">8000000)</span></code>. This will have the x-axis go from 0 to 8,000,000, essentially the range of prices that you should have see above.</p>
<p>Now, how can you figure out the <strong>bin width</strong> and the number of bins to use? If you choose <code class="docutils literal notranslate"><span class="pre">bin</span> <span class="pre">=</span> <span class="pre">8</span></code>, then each bin is going to have a range of 100,000. If you choose <code class="docutils literal notranslate"><span class="pre">bin</span> <span class="pre">=</span> <span class="pre">80</span></code>, then each bin is 10,000 wide. You might ask yourself: “What would be a meaningful difference in housing prices?” 1 is obviously too little, 500,000 might be too high.</p>
<p>Pick a number of bins. Add a title. Remove the legend. Add the following to style the graph automatically: <code class="docutils literal notranslate"><span class="pre">style</span> <span class="pre">=</span> <span class="pre">'seaborn-white'</span></code>.</p>
<p>All of your options will go <strong>inside</strong> of the <code class="docutils literal notranslate"><span class="pre">plot()</span></code> method.</p>
<p>For various settings in <code class="docutils literal notranslate"><span class="pre">pandas</span></code> plot, check out this <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.plot.html">documentation</a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">pandas</span></code> is using <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> functions to style the plots. In fact, <code class="docutils literal notranslate"><span class="pre">pandas</span></code> plot and <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> can be used together. To see a list of styles, try: <code class="docutils literal notranslate"><span class="pre">plt.style.available</span></code>. Don’t change the color of the line, etc. when making the plot, or this will override your style choice.</p>
</section>
<section id="part-6">
<h2>Part 6<a class="headerlink" href="#part-6" title="Permalink to this headline">#</a></h2>
<p>I didn’t like the x-axis on my graph. It uses scientific notation and just goes 1, 2, 3… up to 8, because the top range was 8,000,000. Let’s do two things now.</p>
<ul class="simple">
<li><p>We can filter our data before plotting it. Try <code class="docutils literal notranslate"><span class="pre">kc_subset[kc_subset['price']</span> <span class="pre">&lt;</span> <span class="pre">1000000].your_plot_code</span></code>, where <code class="docutils literal notranslate"><span class="pre">your_plot_code</span></code> is your histogram code from above. This will filter your data to only homes with prices less than 1,000,000 and then pass that filtered data set to the <code class="docutils literal notranslate"><span class="pre">plot()</span></code> function. Edit the range and bins to something more appropriate. <strong>Do you see spikes in the data? What’s going on there?</strong></p></li>
</ul>
<p>By the way, there’s a term for this kind of programming logic. We are filtering our DataFrame and then <strong>piping</strong> it, or sending it, to the plot function. Basically, there’s some logic to your code that you can read from left to right. And, this is all done without changing the actual DataFrame.</p>
<ul class="simple">
<li><p>I still don’t like the x-axis. Let’s use <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> to make the graph. It’s easier to modify things this way. You can actually use your <code class="docutils literal notranslate"><span class="pre">pandas</span></code> plot and then modify it with <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> code. But, we’ll start from scratch. <strong>Make the same histogram again, but use the <code class="docutils literal notranslate"><span class="pre">pyplot</span></code> way discussed in our notes.</strong></p></li>
</ul>
<p>This means using the <code class="docutils literal notranslate"><span class="pre">plt.hist</span></code> function. Use <strong>all of the price data</strong> by plotting <code class="docutils literal notranslate"><span class="pre">kc_subset.price</span></code> or <code class="docutils literal notranslate"><span class="pre">kc_subset['price']</span></code> inside of <code class="docutils literal notranslate"><span class="pre">plt.hist</span></code>. Either pulls the column that you want out of the DataFrame. Add an x-label and a title. Do not include a legend. Style it using <code class="docutils literal notranslate"><span class="pre">plt.style.use('seaborn-white')</span></code>.</p>
<p>Let’s fix that x-axis finally. Add the following code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">ticklabel_format</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;plain&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">StrMethodFormatter</span><span class="p">(</span><span class="s1">&#39;$</span><span class="si">{x:,.0f}</span><span class="s1">&#39;</span><span class="p">));</span> <span class="c1"># Add dollar sign and commas using StrMethodFormatter from matplotlib</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">style='plain'</span></code> will get rid of the scientific notation. The next line rotates the labels 25 degrees. The last line adds that dollar formatting with commas. Note the <code class="docutils literal notranslate"><span class="pre">gca()</span></code> bit. This means <strong>get current axis</strong>. This particular formatting method needs that <code class="docutils literal notranslate"><span class="pre">gca()</span></code> to “know” which plot to style. The plot I want to style is the axis (or plot) that we’re working with. You don’t need that code when you’re doing things the <strong>object-oriented</strong> method, discussed in the notes. There, you just tell it what axis to do stuff to (e.g. ax or ax[1]).</p>
<p>Make sure that the last line has a semi-colon.</p>
</section>
<section id="part-7">
<h2>Part 7<a class="headerlink" href="#part-7" title="Permalink to this headline">#</a></h2>
<p>Let’s make that same graph <strong>yet again</strong> using the <strong>object-oriented method</strong>. This means creating a <strong>fig</strong> and <strong>axes</strong>. We only have one axis here, so you can define it as <strong>ax</strong>. Remember, an axis is a plot. I like this object oriented method, because it really makes it clear what you’re doing. I have axes or plot. I am doing something to it, I’m styling it, etc. Then, here’s another plot. I can put them together, even. They are truly <strong>objects</strong> that we can think about in almost a physical way.</p>
<p>When styling the plot, instead of <code class="docutils literal notranslate"><span class="pre">plt.</span></code>, you’ll use <code class="docutils literal notranslate"><span class="pre">ax.</span></code>, since you’re referring to a specific axes object that you’ve created.</p>
<p>When searching around for how to style a plot, you’ll come across <strong>many ways to do the same thing</strong>. Some of them work when using <code class="docutils literal notranslate"><span class="pre">panda</span></code> plot, some when using the <code class="docutils literal notranslate"><span class="pre">plt.</span></code>, and some when using <code class="docutils literal notranslate"><span class="pre">fig</span></code> and <code class="docutils literal notranslate"><span class="pre">ax</span></code>. Some methods will work with more than one way. You just have to experiment a bit. Here’s some code to fill in:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;FILL ME IN&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;FILL ME IN&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;FILL ME IN&#39;</span><span class="p">,</span> <span class="n">fontsize</span> <span class="o">=</span> <span class="mi">15</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">ticklabel_format</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;plain&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">StrMethodFormatter</span><span class="p">(</span><span class="s1">&#39;$</span><span class="si">{x:,.0f}</span><span class="s1">&#39;</span><span class="p">))</span>
</pre></div>
</div>
</section>
<section id="part-8">
<h2>Part 8<a class="headerlink" href="#part-8" title="Permalink to this headline">#</a></h2>
<p>Let’s create some <strong>categorical variables</strong> from our data. Let’s define a large house as anything greater than 2,500 square feet. Implement the code below to create a new categorical variable called “large_house”.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;new_var&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;old_var&#39;</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">2500</span><span class="p">,</span> <span class="s1">&#39;yes&#39;</span><span class="p">,</span> <span class="s1">&#39;no&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>This uses <code class="docutils literal notranslate"><span class="pre">np.where</span></code> to do some if/else-style logic and create the new variable. You’ll see the new column in your DataFrame. You can make this a <strong>categorical</strong> variable using <code class="docutils literal notranslate"><span class="pre">astype</span></code>, which we’ve see before:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">kc_subset</span><span class="p">[</span><span class="s1">&#39;large_house&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kc_subset</span><span class="p">[</span><span class="s1">&#39;large_house&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>If you do a .info() on the DataFrame, you’ll see that <code class="docutils literal notranslate"><span class="pre">large_house</span></code> is indeed something called a category. Pandas treats categorical variables in a particular way, letting you different things than if this variable was just text.</p>
<p>Let’s get a little fancier. Create a new variable <code class="docutils literal notranslate"><span class="pre">sqft_living_100</span></code> that is the percentile rank of the <code class="docutils literal notranslate"><span class="pre">sqft_living</span></code> variable. Check out the second example on this page: <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.rank.html">https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.rank.html</a>. A percentile rank will give every observation a rank between 0 and 1, with 1 being the largest homes. You can print the min and max of your percentile rank variable to see.</p>
<p>Let’s now create a house size category based on the <strong>quantile</strong> of living space that the house falls into. Quanitles mean splitting the data into four groups, based on the variable. This is a less ad hoc way of creating categories. You can use this code below to create the new variable, which will range from 1 to 4, depending on the size of the living space.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># create a list of our conditions</span>
<span class="n">conditions</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="n">kc_subset</span><span class="p">[</span><span class="s1">&#39;sqft_living_100&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mf">0.25</span><span class="p">),</span>
    <span class="p">(</span><span class="n">kc_subset</span><span class="p">[</span><span class="s1">&#39;sqft_living_100&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mf">0.25</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">kc_subset</span><span class="p">[</span><span class="s1">&#39;sqft_living_100&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mf">0.5</span><span class="p">),</span>
    <span class="p">(</span><span class="n">kc_subset</span><span class="p">[</span><span class="s1">&#39;sqft_living_100&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mf">0.5</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">kc_subset</span><span class="p">[</span><span class="s1">&#39;sqft_living_100&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mf">0.75</span><span class="p">),</span>
    <span class="p">(</span><span class="n">kc_subset</span><span class="p">[</span><span class="s1">&#39;sqft_living_100&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mf">0.75</span><span class="p">)</span>
    <span class="p">]</span>

<span class="c1"># create a list of the values we want to assign for each condition</span>
<span class="n">values</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;q1&#39;</span><span class="p">,</span> <span class="s1">&#39;q2&#39;</span><span class="p">,</span> <span class="s1">&#39;q3&#39;</span><span class="p">,</span> <span class="s1">&#39;q4&#39;</span><span class="p">]</span>

<span class="c1"># create a new column and use np.select to assign values to it using our lists as arguments</span>
<span class="n">kc_subset</span><span class="p">[</span><span class="s1">&#39;large_house_4&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">conditions</span><span class="p">,</span> <span class="n">values</span><span class="p">)</span>
</pre></div>
</div>
<p>This code creates a list of conditions to meet and then the values that get assigned, depending on the condition. We’re splitting up the data into quartiles based on a percentile ranking, so there are four conditions. The method <code class="docutils literal notranslate"><span class="pre">np.select</span></code> selects the appropriate value for each condition. Make <code class="docutils literal notranslate"><span class="pre">large_house_4</span></code> a categorical variable too. If you’ve used other languages, this is a bit like a <code class="docutils literal notranslate"><span class="pre">case-when</span></code> statement. If this condition is true, assign this value.</p>
<p>Finally, make <code class="docutils literal notranslate"><span class="pre">waterfront</span></code> a categorical variable.</p>
</section>
<section id="part-9">
<h2>Part 9<a class="headerlink" href="#part-9" title="Permalink to this headline">#</a></h2>
<p>Now, we’re going to make two plots. Use the <code class="docutils literal notranslate"><span class="pre">fig</span></code> and <code class="docutils literal notranslate"><span class="pre">axes</span></code> method for both.</p>
<p>First, make a scatter plot where you have <code class="docutils literal notranslate"><span class="pre">price</span></code> on the y and <code class="docutils literal notranslate"><span class="pre">sqft_living</span></code> on the x. Name the plot that you create <strong>scatter</strong>, with <code class="docutils literal notranslate"><span class="pre">scatter</span> <span class="pre">=</span> <span class="pre">ax.scatter(...)</span></code>, like you are doing for <code class="docutils literal notranslate"><span class="pre">fig</span></code>. This makes our plot an object. You’ll see why we’re doing this in a second.</p>
<p>We are going to change the color of the dots to blue when waterfront is 1. To do this, add the following to your <code class="docutils literal notranslate"><span class="pre">ax.scatter(...)</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">c</span><span class="o">=</span><span class="n">kc_subset</span><span class="p">[</span><span class="s1">&#39;waterfront&#39;</span><span class="p">],</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Blues&#39;</span>
</pre></div>
</div>
<p>You can see an example <a class="reference external" href="https://www.statology.org/matplotlib-scatterplot-color-by-value/">here</a>.</p>
<p>You can also pick the colors that you want using a dictionary and then <strong>mapping</strong> values to colors. You can see an example of this <a class="reference external" href="https://kanokidotorg.github.io/2020/08/30/Matplotlib-scatter-plot-color-by-category-in-Python/">here</a>.</p>
<p>Finally, make the plot look good with titles, labels, etc. Change the format of both the x and the y axes. You want dollar signs and commas on the y and commas in the x. Make the dots smaller using <code class="docutils literal notranslate"><span class="pre">s=</span></code>. See the <code class="docutils literal notranslate"><span class="pre">scatter()</span></code> <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.scatter.html">documentation</a>.</p>
<p>We should have a legend for this plot to denote what the two color of dots mean. Add the following code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">legend</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="o">*</span><span class="n">scatter</span><span class="o">.</span><span class="n">legend_elements</span><span class="p">(),</span>
                    <span class="n">loc</span><span class="o">=</span><span class="s2">&quot;lower right&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Waterfront&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">add_artist</span><span class="p">(</span><span class="n">legend</span><span class="p">);</span>
</pre></div>
</div>
<p>This creates a <code class="docutils literal notranslate"><span class="pre">legend</span></code> object called <strong>legend</strong> that we can then add to the plot. We needed to create <strong>scatter</strong> up above in order to refer to it in this <code class="docutils literal notranslate"><span class="pre">ax.legend</span></code>. We’re pulling the names from it. See <a class="reference external" href="https://matplotlib.org/stable/gallery/lines_bars_and_markers/scatter_with_legend.html">this</a> from the official documentation for more.</p>
<p>Finally, plot two histograms together using the <code class="docutils literal notranslate"><span class="pre">fig</span></code> and <code class="docutils literal notranslate"><span class="pre">axes</span></code> method. Start with this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
</pre></div>
</div>
<p>This will stack two figures on top of each other. The top figure should be the distribution of price per square foot where the home is <strong>not</strong> on the water. The bottom figure should be all of the waterfront homes. They won’t share a y-axis, since there are so few waterfront homes. Change that to <code class="docutils literal notranslate"><span class="pre">True</span></code> to see why I made it <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p>You’ll also want to filter your data. Create two new DataFrames, one with <code class="docutils literal notranslate"><span class="pre">'waterfront'</span> <span class="pre">==</span> <span class="pre">0</span></code> observations and one with <code class="docutils literal notranslate"><span class="pre">'waterfront'</span> <span class="pre">==</span> <span class="pre">1</span></code> observations.</p>
<p>Now, create two histograms. Here’s my code for the top one:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">no_water</span><span class="p">[</span><span class="s1">&#39;prc_sq_ft&#39;</span><span class="p">],</span> <span class="n">bins</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
</pre></div>
</div>
<p>See how you’ll be referring to each plot using the array? Style your graph this way. Notice my new DataFrame name. Style the plots.</p>
<p>For both figures, do the following: <strong>Make the font size of your title a little bigger.</strong> We haven’t talked about how to do this, but it is straightforward.</p>
</section>
<section id="part-10">
<h2>Part 10<a class="headerlink" href="#part-10" title="Permalink to this headline">#</a></h2>
<p>Finally, <strong>clear the outputs of all of your cells</strong> using the button at the top of the notebook. Restart your Python kernel. This will clear everything from memory. Then, <strong>Run All</strong>. All of you cells should now run, in order, from top to bottom.</p>
<p>You are done! <strong>Turn in this .ipynb file via Moodle.</strong></p>
<p>You are developing a nice set of tools. You can bring in some raw data, clean it up, summarize it, create new variables, and make some graphs. Once you have the basics down, you can read documentation and look at examples to figure out how to do a lot more.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./chapters"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="lab02.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Lab 02</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="exam_intro.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Our Exams</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Prof. Adam Aiken<br/>
  
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>